<div *ngIf="subCategories.length > 0">
  <h3>{{ category.Name }} - 子分類詳情</h3>

  <div *ngFor="let subCategory of subCategories" class="sub-category-item border p-3 mb-4 rounded-lg">
    <h4>{{ subCategory.Name }}</h4>
    <p>數量: {{ getSubCategoryQty(subCategory.Name) }}</p>

    <div *ngIf="itemsBySubCategory[subCategory.Name]!.length > 0">
      <ul>
        <li *ngFor="let item of itemsBySubCategory[subCategory.Name]!">
          {{ item.ItemName }} - 剩餘數量: {{ item.RemainingQty }}
        </li>
      </ul>
    </div>
    <div *ngIf="itemsBySubCategory[subCategory.Name]?.length === 0">
      <p>此子分類無商品資料。</p>
    </div>
  </div>

  <div *ngIf="totalSubCategoryQty > 0">
    <p>累計數量: {{ totalSubCategoryQty }}</p>
  </div>
</div>
